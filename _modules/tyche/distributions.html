
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tyche.distributions &#8212; Tyche v1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for tyche.distributions</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module contains several classes of probability distributions</span>
<span class="sd">that can be easily manipulated (e.g., shift, scale, or add to</span>
<span class="sd">distributions to get new distributions).</span>

<span class="sd">Example::</span>

<span class="sd">    person_height_cm = NormalDist(mean=180, std_dev=5)</span>
<span class="sd">    heel_height_cm = NormalDist(mean=5, std_dev=3)</span>

<span class="sd">    total_height_cm = person_height_cm + heel_height_cm</span>
<span class="sd">    total_height_ft = total_height_cm * 0.0328084</span>

<span class="sd">    hoop_height_ft = 10</span>
<span class="sd">    distance_to_hoop_ft = hoop_height_ft - total_height_ft</span>

<span class="sd">    # Result: distance_to_hoop_ft = Normal(mean=3.930, std_dev=0.191)</span>

<span class="sd">The following probability distributions are currently available:</span>

<span class="sd">- `UniformDist &lt;#tyche.distributions.UniformDist&gt;`_: A uniform probability distribution.</span>
<span class="sd">- `NormalDist &lt;#tyche.distributions.NormalDist&gt;`_: A normal probability distribution.</span>

<span class="sd">This aims to allow the more flexible and intuitive use of probability</span>
<span class="sd">distributions, by reducing the amount of manual work that is required</span>
<span class="sd">to manipulate and use them.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">ArrayLike</span>

<span class="kn">from</span> <span class="nn">tyche.probability</span> <span class="kn">import</span> <span class="n">random_probability</span>

<span class="n">ProbDistLike</span><span class="p">:</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="s1">&#39;ProbDist&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="TycheDistributionsException"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TycheDistributionsException">[docs]</a><span class="k">class</span> <span class="nc">TycheDistributionsException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An exception type that is thrown when errors occur in</span>
<span class="sd">    the construction or use of probability distributions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters:</span>
<span class="sd">            message: A message describing the reason that this</span>
<span class="sd">              exception was raised.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;TycheDistributionsException: &quot;</span> <span class="o">+</span> <span class="n">message</span></div>


<div class="viewcode-block" id="ProbDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ProbDist">[docs]</a><span class="k">class</span> <span class="nc">ProbDist</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A probability distribution over a space of numeric values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="ProbDist.sample"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ProbDist.sample">[docs]</a>    <span class="k">def</span> <span class="nf">sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rng</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">Generator</span><span class="p">,</span> <span class="n">shape</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Samples random values from this distribution.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            rng: A NumPy random number generator that is used to generate random samples</span>
<span class="sd">              from this distribution.</span>
<span class="sd">            shape: Configures the format of the returned samples from this probability</span>
<span class="sd">              distribution. By default, a single sampled value is returned. If an int</span>
<span class="sd">              is provided, then a NumPy array of `shape` values will be returned. If a</span>
<span class="sd">              tuple is provided, then a NumPy array of sampled values will be returned</span>
<span class="sd">              with the tuple used as the array&#39;s shape.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;sample is unimplemented for &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ContinuousProbDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist">[docs]</a><span class="k">class</span> <span class="nc">ContinuousProbDist</span><span class="p">(</span><span class="n">ProbDist</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A probability distribution over a continuous space of numeric values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<div class="viewcode-block" id="ContinuousProbDist.truncate"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.truncate">[docs]</a>    <span class="k">def</span> <span class="nf">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a new distribution that represents the truncation of</span>
<span class="sd">        this distribution to the range [minimum, maximum].</span>

<span class="sd">        Parameters:</span>
<span class="sd">            minimum: A lower limit on the numeric values in this distribution</span>
<span class="sd">              after truncation.</span>
<span class="sd">            maximum: An upper limit on the numeric values in this distribution</span>
<span class="sd">              after truncation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TruncateContinuousProbDist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a new distribution that represents a shift of this</span>
<span class="sd">        distribution by `shift`.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            shift: The numerical amount to shift the values in this</span>
<span class="sd">              distribution by.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LinearTransformContinuousProbDist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a new distribution that represents a scale of this</span>
<span class="sd">        distribution by `scale`.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            scale: The numerical amount to multiply the values in this</span>
<span class="sd">              distribution by.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LinearTransformContinuousProbDist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>

<div class="viewcode-block" id="ContinuousProbDist.sample"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.sample">[docs]</a>    <span class="k">def</span> <span class="nf">sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rng</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">Generator</span><span class="p">,</span> <span class="n">shape</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_cdf</span><span class="p">(</span><span class="n">random_probability</span><span class="p">(</span><span class="n">rng</span><span class="p">,</span> <span class="n">shape</span><span class="p">))</span></div>

<div class="viewcode-block" id="ContinuousProbDist.cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.cdf">[docs]</a>    <span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates the cumulative density function of this distribution</span>
<span class="sd">        at `x`. The resulting value should fall in the range [0, 1],</span>
<span class="sd">        although numerical error can cause slightly lower or higher</span>
<span class="sd">        values to be returned.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            x: The point or points at which to evaluate the cumulative density</span>
<span class="sd">              function of this distribution. If a numerical value is provided,</span>
<span class="sd">              a numerical value is returned. If a NumPy array of values is</span>
<span class="sd">              provided, then a NumPy array of values will be returned that</span>
<span class="sd">              matches the shape of `x`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;cdf is unimplemented for &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></div>

<div class="viewcode-block" id="ContinuousProbDist.mean"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.mean">[docs]</a>    <span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates to the mean value of this distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_cdf</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span></div>

<div class="viewcode-block" id="ContinuousProbDist.variance"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.variance">[docs]</a>    <span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates to the variance of this distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;variance is unimplemented for &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></div>

<div class="viewcode-block" id="ContinuousProbDist.std_dev"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.std_dev">[docs]</a>    <span class="k">def</span> <span class="nf">std_dev</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates to the standard deviation of this distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">variance</span><span class="p">())</span></div>

<div class="viewcode-block" id="ContinuousProbDist.pdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates the probability density function of this distribution</span>
<span class="sd">        at `x`. The resulting value should fall in the range [0, 1],</span>
<span class="sd">        although numerical error can cause slightly lower or higher</span>
<span class="sd">        values to be returned.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            x: The point or points at which to evaluate the probability density</span>
<span class="sd">              function of this distribution. If a numerical value is provided,</span>
<span class="sd">              a numerical value is returned. If a NumPy array of values is</span>
<span class="sd">              provided, then a NumPy array of values will be returned that</span>
<span class="sd">              matches the shape of `x`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;pdf is unimplemented for &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></div>

<div class="viewcode-block" id="ContinuousProbDist.inverse_cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.ContinuousProbDist.inverse_cdf">[docs]</a>    <span class="k">def</span> <span class="nf">inverse_cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prob</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates the inverse cumulative density function of this distribution</span>
<span class="sd">        at `prob`. This involves calculating the value in this distribution</span>
<span class="sd">        that would produce the given probability, `prob`, if it was used to</span>
<span class="sd">        evaluate the cumulative density function of this distribution.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            prob: The point or points at which to evaluate the inverse cumulative</span>
<span class="sd">              density function of this distribution. If a numerical value is</span>
<span class="sd">              provided, a numerical value is returned. If a NumPy array of values</span>
<span class="sd">              is provided, then a NumPy array of values will be returned that</span>
<span class="sd">              matches the shape of `prob`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;inverse_cdf is unimplemented for &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_try_add_to_distribution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ContinuousProbDist</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attempts to add this continuous probability distribution to the other continuous</span>
<span class="sd">        probability distribution. If this is not supported, then None should be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds the other scalar or probability distribution to this probability distribution.</span>
<span class="sd">        Sampling values from the resulting continuous probability distribution is equivalent</span>
<span class="sd">        to sampling values from this and the other probability distributions, and then</span>
<span class="sd">        adding them.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Scalar additions such as UniformDist(0, 1) &lt; 0.1</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shift</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ContinuousProbDist</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to add values of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s2"> to continuous probability distributions&quot;</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_try_add_to_distribution</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_try_add_to_distribution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        I would love for this to &#39;just work&#39;, but unfortunately this requires the</span>
<span class="sd">        convolution of the PDFs of the two distributions. These convolutions</span>
<span class="sd">        are known for fixed pairs of distributions. However, they require an infinite</span>
<span class="sd">        integral for the general case (for the convolution). Therefore, this cannot be</span>
<span class="sd">        implemented generally for any pair of distributions (or at least, I don&#39;t know</span>
<span class="sd">        how to do that). However, implementing this for common pairs of distributions may</span>
<span class="sd">        be worth it if this functionality would be helpful.</span>

<span class="sd">        Alternatively, monte-carlo methods can be used to estimate the addition of two</span>
<span class="sd">        probability distributions, but it is not exact. Therefore, I think it should be</span>
<span class="sd">        more explicitly chosen than overloading +.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Addition of distributions of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s2"> is not yet supported&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">other</span>  <span class="c1"># Add is commutative</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds the other scalar or probability distribution to this probability distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Scalar additions such as UniformDist(0, 1) &lt; 0.1</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>

        <span class="c1"># Distribution multiplications such as UniformDist(0, 1) * UniformDist(0.5, 1)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Multiplication of distributions is not yet implemented&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="n">other</span>  <span class="c1"># Mul is commutative</span>

    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds the other scalar or probability distribution to this probability distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;Division by probability distributions is not yet implemented&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtracts the other scalar or probability distribution from this probability distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">other</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Negates the values of this probability distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the probability that a value sampled from this distribution</span>
<span class="sd">        is less than a value sampled from other.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Scalar comparisons such as UniformDist(0, 1) &lt; 0.1</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="c1"># Distribution comparisons such as UniformDist(0, 1) &lt; UniformDist(0.5, 1)</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">-</span> <span class="n">other</span> <span class="o">&lt;</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the probability that a value sampled from this distribution</span>
<span class="sd">        is less than or equal to a value sampled from other.</span>
<span class="sd">        As this is continuous, this is the same as less than.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">&lt;</span> <span class="n">other</span>

    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the probability that a value sampled from this distribution</span>
<span class="sd">        is less than or equal to a value sampled from other.</span>
<span class="sd">        As this is continuous, this is the same as less than.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ProbDistLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the probability that a value sampled from this distribution</span>
<span class="sd">        is less than or equal to a value sampled from other.</span>
<span class="sd">        As this is continuous, this is the same as less than.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">&gt;</span> <span class="n">other</span></div>


<div class="viewcode-block" id="LinearTransformContinuousProbDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist">[docs]</a><span class="k">class</span> <span class="nc">LinearTransformContinuousProbDist</span><span class="p">(</span><span class="n">ContinuousProbDist</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Applies a linear transformation (scale + shift) to a ContinuousProbDist.</span>
<span class="sd">    The scaling of values is performed before the shift of values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dist</span><span class="p">:</span> <span class="n">ContinuousProbDist</span><span class="p">,</span> <span class="n">shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters:</span>
<span class="sd">            dist: A delegate continuous probability distribution to scale and shift.</span>
<span class="sd">            shift: A shift to be applied to the delegate distribution, `dist`, after</span>
<span class="sd">              the scale is applied.</span>
<span class="sd">            scale: A scale to be applied to the delegate distribution, `dist`, before</span>
<span class="sd">              the shift is applied.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">scale</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;The scale must be non-zero&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span> <span class="o">=</span> <span class="n">dist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span> <span class="o">=</span> <span class="n">shift</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span> <span class="o">=</span> <span class="n">scale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pdf_mul</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="nb">abs</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_shift</span> <span class="o">=</span> <span class="o">-</span><span class="n">shift</span> <span class="o">/</span> <span class="n">scale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_scale</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">scale</span>

    <span class="k">def</span> <span class="nf">_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">LinearTransformContinuousProbDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span> <span class="o">+</span> <span class="n">shift</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">LinearTransformContinuousProbDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span> <span class="o">*</span> <span class="n">scale</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Applies the shift and scale of this transformation to x. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span> <span class="o">*</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">_inverse_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Applies the shift and scale of this transformation to x. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_shift</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_scale</span> <span class="o">*</span> <span class="n">x</span>

<div class="viewcode-block" id="LinearTransformContinuousProbDist.sample"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist.sample">[docs]</a>    <span class="k">def</span> <span class="nf">sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rng</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">Generator</span><span class="p">,</span> <span class="n">shape</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">rng</span><span class="p">,</span> <span class="n">shape</span><span class="p">))</span></div>

<div class="viewcode-block" id="LinearTransformContinuousProbDist.cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist.cdf">[docs]</a>    <span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inverse_transform</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">values</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">values</span></div>

<div class="viewcode-block" id="LinearTransformContinuousProbDist.variance"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist.variance">[docs]</a>    <span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">variance</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span><span class="o">**</span><span class="mi">2</span></div>

<div class="viewcode-block" id="LinearTransformContinuousProbDist.pdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inverse_transform</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pdf_mul</span></div>

<div class="viewcode-block" id="LinearTransformContinuousProbDist.inverse_cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.LinearTransformContinuousProbDist.inverse_cdf">[docs]</a>    <span class="k">def</span> <span class="nf">inverse_cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prob</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="n">prob</span> <span class="o">=</span> <span class="n">prob</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">prob</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">inverse_cdf</span><span class="p">(</span><span class="n">prob</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shift</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;(</span><span class="si">{}</span><span class="s2"> * </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scale</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;(</span><span class="si">{}</span><span class="s2"> + </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">))</span>

        <span class="k">return</span> <span class="s2">&quot;(</span><span class="si">{}</span><span class="s2"> + </span><span class="si">{}</span><span class="s2"> * </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;LinearTransform(shift=</span><span class="si">{}</span><span class="s2">, scale=</span><span class="si">{}</span><span class="s2">, dist=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_linear_shift</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linear_scale</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="TruncateContinuousProbDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TruncateContinuousProbDist">[docs]</a><span class="k">class</span> <span class="nc">TruncateContinuousProbDist</span><span class="p">(</span><span class="n">ContinuousProbDist</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Applies a truncation to a ContinuousProbDist. All values below `minimum`</span>
<span class="sd">    and above `maximum` are discarded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dist</span><span class="p">:</span> <span class="n">ContinuousProbDist</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters:</span>
<span class="sd">            dist: A delegate continuous probability distribution to truncate.</span>
<span class="sd">            minimum: The lower bound to use to truncate the delegate distribution.</span>
<span class="sd">            maximum: The upper bound to use to truncate the delegate distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">maximum</span> <span class="o">&lt;=</span> <span class="n">minimum</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;TruncatedNormalDist maximum must be &gt; than minimum. </span><span class="si">{}</span><span class="s2"> &lt;= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">maximum</span><span class="p">,</span> <span class="n">minimum</span>
            <span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span> <span class="o">=</span> <span class="n">dist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="o">=</span> <span class="n">minimum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">=</span> <span class="n">maximum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upper_cdf</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">maximum</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upper_cdf</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span>
                <span class="s2">&quot;The truncation of [</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">] applied to </span><span class="si">{}</span><span class="s2"> would result in an all-zero probability distribution&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">,</span> <span class="n">dist</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_transform_cdf_mul</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upper_cdf</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transform_cdf_mul</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_upper_cdf</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span><span class="p">)</span>

<div class="viewcode-block" id="TruncateContinuousProbDist.truncate"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TruncateContinuousProbDist.truncate">[docs]</a>    <span class="k">def</span> <span class="nf">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">minimum</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">return</span> <span class="n">TruncateContinuousProbDist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">,</span>
            <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="n">minimum</span><span class="p">),</span>
            <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TruncateContinuousProbDist.cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TruncateContinuousProbDist.cdf">[docs]</a>    <span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transform_cdf_mul</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="TruncateContinuousProbDist.pdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TruncateContinuousProbDist.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transform_cdf_mul</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">))]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="TruncateContinuousProbDist.inverse_cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.TruncateContinuousProbDist.inverse_cdf">[docs]</a>    <span class="k">def</span> <span class="nf">inverse_cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prob</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="o">.</span><span class="n">inverse_cdf</span><span class="p">(</span><span class="n">prob</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inverse_transform_cdf_mul</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lower_cdf</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Truncate([</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">], </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Truncate(min=</span><span class="si">{}</span><span class="s2">, max=</span><span class="si">{}</span><span class="s2">, dist=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dist</span><span class="p">))</span></div>


<div class="viewcode-block" id="UniformDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.UniformDist">[docs]</a><span class="k">class</span> <span class="nc">UniformDist</span><span class="p">(</span><span class="n">ContinuousProbDist</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A uniform probability distribution over the range [minimum, maximum].</span>
<span class="sd">    All values within this range have equal probability of being sampled.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters:</span>
<span class="sd">            minimum: The lower bound on values that could be sampled from this</span>
<span class="sd">              uniform probability distribution.</span>
<span class="sd">            maximum: The upper bound on values that could be sampled from this</span>
<span class="sd">              uniform probability distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">maximum</span> <span class="o">&lt;=</span> <span class="n">minimum</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;UniformDist maximum must be &gt; than minimum. </span><span class="si">{}</span><span class="s2"> &lt;= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">maximum</span><span class="p">,</span> <span class="n">minimum</span>
            <span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="o">=</span> <span class="n">minimum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">=</span> <span class="n">maximum</span>

    <span class="k">def</span> <span class="nf">_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">UniformDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="o">+</span> <span class="n">shift</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">+</span> <span class="n">shift</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">scale</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;The scale must be non-zero&quot;</span><span class="p">)</span>

        <span class="n">bound1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span> <span class="o">*</span> <span class="n">scale</span>
        <span class="n">bound2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">*</span> <span class="n">scale</span>
        <span class="k">return</span> <span class="n">UniformDist</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">bound1</span><span class="p">,</span> <span class="n">bound2</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">bound1</span><span class="p">,</span> <span class="n">bound2</span><span class="p">))</span>

<div class="viewcode-block" id="UniformDist.cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.UniformDist.cdf">[docs]</a>    <span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">)</span></div>

<div class="viewcode-block" id="UniformDist.variance"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.UniformDist.variance">[docs]</a>    <span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">12</span></div>

<div class="viewcode-block" id="UniformDist.pdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.UniformDist.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">)</span></div>

<div class="viewcode-block" id="UniformDist.inverse_cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.UniformDist.inverse_cdf">[docs]</a>    <span class="k">def</span> <span class="nf">inverse_cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prob</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">prob</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Uniform(</span><span class="si">{:.3f}</span><span class="s2"> to </span><span class="si">{:.3f}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;UniformDist(min=</span><span class="si">{}</span><span class="s2">, max=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minimum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum</span><span class="p">)</span></div>


<div class="viewcode-block" id="NormalDist"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist">[docs]</a><span class="k">class</span> <span class="nc">NormalDist</span><span class="p">(</span><span class="n">ContinuousProbDist</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A normal probability distribution centered around `mean` with a</span>
<span class="sd">    standard deviation of `std_dev`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mean</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">std_dev</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters:</span>
<span class="sd">            mean: The mean of this normal distribution.</span>
<span class="sd">            std_dev: The standard deviation of this normal distribution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">std_dev</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;NormalDist std_dev must be &gt; than 0. </span><span class="si">{}</span><span class="s2"> &lt;= 0&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">std_dev</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_mean</span> <span class="o">=</span> <span class="n">mean</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span> <span class="o">=</span> <span class="n">std_dev</span>

    <span class="k">def</span> <span class="nf">_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NormalDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span> <span class="o">+</span> <span class="n">shift</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ContinuousProbDist&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">scale</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TycheDistributionsException</span><span class="p">(</span><span class="s2">&quot;The scale must be non-zero&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">NormalDist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mean</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span>
            <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span> <span class="o">*</span> <span class="n">scale</span><span class="p">)</span>  <span class="c1"># Normal distributions are symmetrical</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_try_add_to_distribution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ContinuousProbDist</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ContinuousProbDist</span><span class="p">]:</span>
        <span class="c1"># Allow addition of normal distributions to themselves.</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="n">NormalDist</span><span class="p">:</span>
            <span class="n">other_norm</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">NormalDist</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
            <span class="n">new_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mean</span> <span class="o">+</span> <span class="n">other_norm</span><span class="o">.</span><span class="n">_mean</span>
            <span class="n">new_std_dev</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">other_norm</span><span class="o">.</span><span class="n">_std_dev</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
            <span class="k">return</span> <span class="n">NormalDist</span><span class="p">(</span><span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std_dev</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="NormalDist.cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist.cdf">[docs]</a>    <span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span></div>

<div class="viewcode-block" id="NormalDist.variance"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist.variance">[docs]</a>    <span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="o">**</span><span class="mi">2</span></div>

<div class="viewcode-block" id="NormalDist.std_dev"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist.std_dev">[docs]</a>    <span class="k">def</span> <span class="nf">std_dev</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span></div>

<div class="viewcode-block" id="NormalDist.pdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span></div>

<div class="viewcode-block" id="NormalDist.inverse_cdf"><a class="viewcode-back" href="../../distributions.html#tyche.distributions.NormalDist.inverse_cdf">[docs]</a>    <span class="k">def</span> <span class="nf">inverse_cdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prob</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArrayLike</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">prob</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Normal(mean=</span><span class="si">{:.3f}</span><span class="s2">, std_dev=</span><span class="si">{:.3f}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;NormalDist(mean=</span><span class="si">{}</span><span class="s2">, std_dev=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mean</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_std_dev</span><span class="p">)</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">Tyche</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language.html">tyche.language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../individuals.html">tyche.individuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../distributions.html">tyche.distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../probability.html">tyche.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">tyche.references</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Padraig Lamont, drtnf.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>